import { formatThousandSeparator } from "@feature/app/function/formatThousandSeparator";

describe("formatThousandSeparator", () => {
  it.each`
    value             | position | expected
    ${"1"}            | ${0}     | ${"1"}
    ${"12"}           | ${0}     | ${"12"}
    ${"123"}          | ${0}     | ${"123"}
    ${"1234"}         | ${0}     | ${"1234"}
    ${"12345"}        | ${0}     | ${"12345"}
    ${"1.9876"}       | ${0}     | ${"1.9876"}
    ${"12.9876"}      | ${0}     | ${"12.9876"}
    ${"123.9876"}     | ${0}     | ${"123.9876"}
    ${"1234.9876"}    | ${0}     | ${"1234.9876"}
    ${"12345.9876"}   | ${0}     | ${"12345.9876"}
    ${"1"}            | ${3}     | ${"1"}
    ${"12"}           | ${3}     | ${"12"}
    ${"123"}          | ${3}     | ${"123"}
    ${"1234"}         | ${3}     | ${"1,234"}
    ${"12345"}        | ${3}     | ${"12,345"}
    ${"123456"}       | ${3}     | ${"123,456"}
    ${"1234567"}      | ${3}     | ${"1,234,567"}
    ${"1.9876"}       | ${3}     | ${"1.9876"}
    ${"12.9876"}      | ${3}     | ${"12.9876"}
    ${"123.9876"}     | ${3}     | ${"123.9876"}
    ${"1234.9876"}    | ${3}     | ${"1,234.9876"}
    ${"12345.9876"}   | ${3}     | ${"12,345.9876"}
    ${"123456.9876"}  | ${3}     | ${"123,456.9876"}
    ${"1234567.9876"} | ${3}     | ${"1,234,567.9876"}
  `(
    "value: $value, position: $position のとき、$expected が返る",
    ({ value, position, expected }) => {
      expect(formatThousandSeparator(value, position)).toBe(expected);
    },
  );

  it("value が数値でない場合、エラーが発生する", () => {
    expect(() => formatThousandSeparator("a", 0)).toThrowError(
      "value is not a number.",
    );
  });
});
