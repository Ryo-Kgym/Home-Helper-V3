query getAggregatedCategoriesByDate(
  $groupId: String!
  $fromDate: date!
  $toDate: date!
  $iocomeType: String!
  $limit: Int!
  $excludeCategoryIds: [String!] = []
) {
  group: groupByPk(id: $groupId) {
    dailies: totalByCategoryView(
      orderBy: { total: DESC }
      where: {
        date: { _gte: $fromDate }
        _and: {
          date: { _lte: $toDate }
          _and: {
            iocomeType: { _eq: $iocomeType }
            _and: { categoryId: { _nin: $excludeCategoryIds } }
          }
        }
      }
      limit: $limit
    ) {
      genreId
      genreName
      iocomeType
      categoryId
      categoryName
      total
    }
  }
}
